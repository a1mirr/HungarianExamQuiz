<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hungarian Exam Quiz | –ú–∞–≥—è—Ä—Å—å–∫–∞ —ñ—Å–ø–∏—Ç</title>
    <meta name="description" content="Interactive Hungarian cultural exam quiz with multilingual support (HU/EN/RU)">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="lang-btn active" data-lang="en" aria-label="English">üá¨üáß EN</button>
        <button class="lang-btn" data-lang="ru" aria-label="Russian">üá∑üá∫ RU</button>
        <button class="lang-btn" data-lang="hu" aria-label="Hungarian">üá≠üá∫ HU</button>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">üá≠üá∫ Hungarian Quiz</h1>
            <p class="subtitle" data-i18n="subtitle">Master Hungarian Culture & History</p>
        </header>

        <!-- Topic Selection View -->
        <div id="topicView" class="view active">
            <h2 class="section-title" data-i18n="selectTopic">Select a Topic</h2>
            <div id="topicGrid" class="topic-grid">
                <!-- Topics will be loaded here -->
            </div>

            <!-- Mock Exam Card -->
            <div class="mock-exam-section">
                <div class="mock-exam-card" id="mockExamCard">
                    <span class="mock-exam-icon">üéì</span>
                    <h3 class="mock-exam-title" data-i18n="mockExam">Mock Exam</h3>
                    <p class="mock-exam-desc" data-i18n="mockExamDesc">12 random questions (2 from each topic)</p>
                </div>
            </div>
        </div>

        <!-- Quiz View -->
        <div id="quizView" class="view">
            <div class="quiz-header">
                <button id="backBtn" class="back-btn">
                    <span>‚Üê <span data-i18n="back">Back</span></span>
                </button>
                <h2 id="topicTitle" class="topic-title">-</h2>
                <div class="progress-container">
                    <span id="progressText" class="progress-text">0 / 0</span>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                    </div>
                </div>
            </div>



            <!-- Question Card -->
            <div class="question-card">
                <!-- Question Display -->
                <div class="question-display">
                    <div class="question-header">
                        <span class="question-type" id="questionType">Open Question</span>
                        <button id="translateQuestionBtn" class="translate-btn" title="Toggle translation">
                            üîÑ <span data-i18n="translate">Translate</span>
                        </button>
                    </div>
                    <h3 id="questionText" class="question-text">-</h3>
                </div>

                <!-- Answer Input (for Open questions) -->
                <div id="answerInput" class="answer-input hidden">
                    <label class="input-label" data-i18n="yourAnswer">Your Answer:</label>
                    <input type="text" id="userAnswer" class="answer-field" placeholder="Type your answer...">
                </div>

                <!-- List Input (for List questions) -->
                <div id="listInputs" class="list-input hidden">
                    <label class="input-label" data-i18n="yourAnswers">Your Answers:</label>
                    <div id="listInputsContainer" class="list-inputs-container">
                        <!-- Inputs will be inserted here -->
                    </div>
                </div>

                <!-- Multiple Choice Options (for Multiple questions) -->
                <div id="multipleChoice" class="multiple-choice hidden">
                    <div class="options-label" data-i18n="selectOptions">Select the correct option(s):</div>
                    <div id="optionsList" class="options-list">
                        <!-- Options will be inserted here -->
                    </div>
                </div>

                <!-- Feedback Display -->
                <div id="feedback" class="feedback hidden">
                    <div id="feedbackIcon" class="feedback-icon"></div>
                    <div id="feedbackText" class="feedback-text"></div>
                    <div id="correctAnswer" class="correct-answer hidden">
                        <div class="answer-header">
                            <span class="label" data-i18n="correctAnswer">Correct Answer:</span>
                            <button id="translateAnswerBtn" class="translate-btn small" title="Toggle translation">
                                üîÑ
                            </button>
                        </div>
                        <span id="correctAnswerText"></span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="checkBtn" class="action-btn check-btn">
                        <span data-i18n="checkAnswer">Check Answer</span>
                    </button>
                    <button id="showAnswerBtn" class="action-btn show-btn hidden">
                        <span data-i18n="showAnswer">Show Answer</span>
                    </button>
                </div>
            </div>

            <!-- Navigation (Bottom) -->
            <div class="nav-controls nav-bottom">
                <button id="prevBtn" class="nav-btn" aria-label="Previous question">
                    <span data-i18n="previous">Previous</span>
                </button>
                <button id="nextBtn" class="nav-btn nav-btn-primary" aria-label="Next question">
                    <span data-i18n="next">Next</span>
                </button>
            </div>

            <!-- Problem Reporting (Bottom) -->
            <div class="problem-section">
                <button id="problemBtn" class="problem-btn">
                    ‚ö†Ô∏è <span data-i18n="reportProblem">Report Problem</span>
                </button>
                <div id="problemOptions" class="problem-options hidden">
                    <label class="problem-option">
                        <input type="checkbox" value="unclear" class="problem-checkbox">
                        <span data-i18n="problemUnclear">Unclear question</span>
                    </label>
                    <label class="problem-option">
                        <input type="checkbox" value="wrongOptions" class="problem-checkbox">
                        <span data-i18n="problemWrongOptions">Wrong options</span>
                    </label>
                    <label class="problem-option">
                        <input type="checkbox" value="noTranslation" class="problem-checkbox">
                        <span data-i18n="problemNoTranslation">No translation</span>
                    </label>
                    <label class="problem-option">
                        <input type="checkbox" value="other" class="problem-checkbox">
                        <span data-i18n="problemOther">Other issue</span>
                    </label>
                    <div class="problem-notes">
                        <label class="input-label" data-i18n="additionalNotes">Additional notes:</label>
                        <textarea id="problemNotes" class="problem-textarea"
                            placeholder="Describe the issue..."></textarea>
                    </div>
                    <button id="submitProblemBtn" class="submit-problem-btn">
                        <span data-i18n="submitProblem">Submit</span>
                    </button>
                </div>
                <button id="exportProblemsBtn" class="export-btn hidden">
                    üìã <span data-i18n="exportProblems">Export Problems</span> (<span id="problemCount">0</span>)
                </button>
            </div>
        </div>

        <!-- Results View -->
        <div id="resultsView" class="view">
            <div class="results-container">
                <h2 class="results-title" data-i18n="quizComplete">Quiz Complete!</h2>
                <div class="results-card">
                    <div class="score-display">
                        <div class="score-icon">üéâ</div>
                        <div class="score-stats">
                            <div class="score-percentage" id="finalPercentage">0%</div>
                            <div class="score-fraction" id="finalScore">0 / 0</div>
                        </div>
                    </div>
                    <div class="score-breakdown">
                        <div class="breakdown-item">
                            <span class="breakdown-label" data-i18n="correct">Correct</span>
                            <span class="breakdown-value correct" id="correctCount">0</span>
                        </div>
                        <div class="breakdown-item">
                            <span class="breakdown-label" data-i18n="incorrect">Incorrect</span>
                            <span class="breakdown-value incorrect" id="incorrectCount">0</span>
                        </div>
                    </div>
                </div>
                <button id="backToMainBtn" class="back-to-main-btn">
                    <span data-i18n="backToMain">Back to Main Menu</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Made with ‚ù§Ô∏è for Hungarian exam preparation</p>
    </footer>

    <!-- Load modules in order: config first, then validators, then main app -->
    <script src="config.js"></script>
    <script src="validators.js"></script>
    <script src="app.js"></script>
</body>

</html>